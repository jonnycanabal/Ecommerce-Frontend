{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { BASE_ENDPOINT } from 'src/app/config/app';\nimport Swal from 'sweetalert2';\nexport let ProductosComponent = class ProductosComponent {\n  constructor(service, datePipe) {\n    this.service = service;\n    this.datePipe = datePipe;\n    this.titulo = 'Listado de productos';\n    this.baseEndpoint = BASE_ENDPOINT;\n  }\n  ngOnInit() {\n    this.service.listar().subscribe(productos => this.productos = productos);\n  }\n  formatearFecha(createAt) {\n    // Verifica si createAt es un número válido\n    if (typeof createAt === 'number') {\n      const fecha = new Date(createAt);\n      return this.datePipe.transform(fecha, 'dd/MM/yyyy HH:mm:ss');\n    } else {\n      // En caso de que no sea un número válido, devuelve un mensaje de error o el valor original\n      return 'Fecha inválida';\n    }\n  }\n  eliminar(producto) {\n    Swal.fire({\n      title: 'Cuidado: ',\n      text: `¿Seguro que deseas eliminar a ${producto.nombre}?`,\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Si, Eliminar!'\n    }).then(result => {\n      if (result.value) {\n        this.service.eliminar(producto.id).subscribe(() => {\n          // al usar filter nos crea una nueva lista sin el producto eliminado, se iguala a la lista producto\n          this.productos = this.productos.filter(p => p !== producto);\n          Swal.fire('Eliminado', `Producto  ${producto.nombre} eliminado con exito`, 'success');\n        });\n      }\n    });\n  }\n};\nProductosComponent = __decorate([Component({\n  selector: 'app-productos',\n  templateUrl: './productos.component.html',\n  styleUrls: ['./productos.component.css']\n})], ProductosComponent);","map":{"version":3,"names":["Component","BASE_ENDPOINT","Swal","ProductosComponent","constructor","service","datePipe","titulo","baseEndpoint","ngOnInit","listar","subscribe","productos","formatearFecha","createAt","fecha","Date","transform","eliminar","producto","fire","title","text","nombre","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","value","id","filter","p","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\mao_9\\Documents\\Cursos\\Practica\\AplicativoEcommerce\\AplicativoEcommerce\\src\\app\\components\\productos\\productos.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { BASE_ENDPOINT } from 'src/app/config/app';\nimport { Producto } from 'src/app/models/producto';\nimport { ProductoService } from 'src/app/services/producto.service';\nimport Swal from 'sweetalert2';\n\nimport { DatePipe } from '@angular/common';\n\n@Component({\n  selector: 'app-productos',\n  templateUrl: './productos.component.html',\n  styleUrls: ['./productos.component.css']\n})\nexport class ProductosComponent {\n\n  titulo = 'Listado de productos';\n  productos: Producto[];\n\n  baseEndpoint = BASE_ENDPOINT\n\n  constructor(private service: ProductoService, private datePipe: DatePipe) { }\n\n  ngOnInit(): void {\n    this.service.listar().subscribe(productos => this.productos = productos)\n\n  }\n  \n\n  public formatearFecha(createAt: any): string {\n    // Verifica si createAt es un número válido\n    if (typeof createAt === 'number') {\n      const fecha = new Date(createAt);\n      return this.datePipe.transform(fecha, 'dd/MM/yyyy HH:mm:ss');\n    } else {\n      // En caso de que no sea un número válido, devuelve un mensaje de error o el valor original\n      return 'Fecha inválida';\n    }\n  }\n\n  public eliminar(producto: Producto): void {\n\n    Swal.fire({\n      title: 'Cuidado: ',\n      text: `¿Seguro que deseas eliminar a ${producto.nombre}?`,\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Si, Eliminar!'\n    }).then((result) => {\n      if (result.value) {\n        this.service.eliminar(producto.id).subscribe(() => {\n          // al usar filter nos crea una nueva lista sin el producto eliminado, se iguala a la lista producto\n          this.productos = this.productos.filter(p => p !== producto);\n          Swal.fire('Eliminado', `Producto  ${producto.nombre} eliminado con exito`, 'success');\n        });\n\n      }\n    })\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,aAAa,QAAQ,oBAAoB;AAGlD,OAAOC,IAAI,MAAM,aAAa;AASvB,WAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAO7BC,YAAoBC,OAAwB,EAAUC,QAAkB;IAApD,KAAAD,OAAO,GAAPA,OAAO;IAA2B,KAAAC,QAAQ,GAARA,QAAQ;IAL9D,KAAAC,MAAM,GAAG,sBAAsB;IAG/B,KAAAC,YAAY,GAAGP,aAAa;EAEgD;EAE5EQ,QAAQA,CAAA;IACN,IAAI,CAACJ,OAAO,CAACK,MAAM,EAAE,CAACC,SAAS,CAACC,SAAS,IAAI,IAAI,CAACA,SAAS,GAAGA,SAAS,CAAC;EAE1E;EAGOC,cAAcA,CAACC,QAAa;IACjC;IACA,IAAI,OAAOA,QAAQ,KAAK,QAAQ,EAAE;MAChC,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAACF,QAAQ,CAAC;MAChC,OAAO,IAAI,CAACR,QAAQ,CAACW,SAAS,CAACF,KAAK,EAAE,qBAAqB,CAAC;KAC7D,MAAM;MACL;MACA,OAAO,gBAAgB;;EAE3B;EAEOG,QAAQA,CAACC,QAAkB;IAEhCjB,IAAI,CAACkB,IAAI,CAAC;MACRC,KAAK,EAAE,WAAW;MAClBC,IAAI,EAAE,iCAAiCH,QAAQ,CAACI,MAAM,GAAG;MACzDC,IAAI,EAAE,SAAS;MACfC,gBAAgB,EAAE,IAAI;MACtBC,kBAAkB,EAAE,SAAS;MAC7BC,iBAAiB,EAAE,MAAM;MACzBC,iBAAiB,EAAE;KACpB,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAI;MACjB,IAAIA,MAAM,CAACC,KAAK,EAAE;QAChB,IAAI,CAAC1B,OAAO,CAACa,QAAQ,CAACC,QAAQ,CAACa,EAAE,CAAC,CAACrB,SAAS,CAAC,MAAK;UAChD;UACA,IAAI,CAACC,SAAS,GAAG,IAAI,CAACA,SAAS,CAACqB,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKf,QAAQ,CAAC;UAC3DjB,IAAI,CAACkB,IAAI,CAAC,WAAW,EAAE,aAAaD,QAAQ,CAACI,MAAM,sBAAsB,EAAE,SAAS,CAAC;QACvF,CAAC,CAAC;;IAGN,CAAC,CAAC;EACJ;CACD;AA/CYpB,kBAAkB,GAAAgC,UAAA,EAL9BnC,SAAS,CAAC;EACToC,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWnC,kBAAkB,CA+C9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}